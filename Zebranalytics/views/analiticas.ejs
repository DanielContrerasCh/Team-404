<%- include('includes/head.ejs') %>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 min-vh-100">
          <button class="btn btn-light btn-lg" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
            <i class="bi bi-list"></i>
          </button>
        </div>
        <div class="col-md-9">
          <div class="container mt-5">
            <h2 class="mb-4">Analiticas</h2>
              <div class="container mt-5">
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group">
                      <select class="form-select" name="brand" id="brand" aria-label="Select brand">
                        <option selected>Selecciona una marca</option>
                        <option value="LUUNA">LUUNA</option>
                        <option value="NOOZ">NOOZ</option>
                        <option value="MAPPA">MAPPA</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-3">

                    <div class="form-group">
                      <input type="date" class="form-control" placeholder="Fecha inicio">
                    </div>
                  </div>
                  <div class="col-auto d-flex align-items-center">
                    <span>a</span>
                  </div>
                  <div class="col-md-3">
                    <div class="form-group">
                      <input type="date" class="form-control" placeholder="Fecha fin">
                    </div>
                  </div>
                </div>
              </div>                    
          </div>                
          <table class="table">
            <thead>
              <tr>
              <th>Calificación</th>
              <th>Titulo</th>
              <th>Comentario</th>
              <th>Producto</th>
              <th>Fecha</th>
              </tr>
            </thead>

            <tbody>
              <tr data-bs-toggle="collapse" data-bs-target="#row1" aria-expanded="false" aria-controls="row1">
                <td><img src="/img/stars/review5.png" alt=""></td>
                <td>Excelente producto</td>
                <td>Este producto superó mis expectativas. Lo recomiendo altamente.</td>
                <td>LUUNA 1001</td>
                <td>13/02/2023</td>
                <td>4.5/5</td>
                <tr id="row1" class="collapse">
                  <td colspan="3">
                    <!-- Text -->
                    <div>
                      <h5>Ventas en el ultimo mes: 23</h5>
                      <p>Promedio de ventas en el ultimo mes 4.5</p>
                    </div>
                  </td>
                  <td colspan="5">
                    <div class="container">
                        <canvas id="myChart"></canvas>
                      </div>                         
                  </td>
                </tr>
              </tr>

              <tr data-bs-toggle="collapse" data-bs-target="#row2" aria-expanded="false" aria-controls="row2">
                <td><img src="/img/stars/review5.png" alt=""></td>
                <td>Excelente producto</td>
                <td>Este producto superó mis expectativas. Lo recomiendo altamente.</td>
                <td>LUUNA 1001</td>
                <td>13/02/2023</td>
              </tr>
              <tr id="row2" class="collapse">
                <td colspan="5">Detalles adicionales de la reseña, como la calificación detallada, el nombre del usuario, etc.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <%- include('includes/sidebar.ejs') %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
                document.addEventListener('DOMContentLoaded', function() {
                // Default data for the chart
                const labels = ['Ene','Feb','Mar','Abr','May','Junio','Julio','Agost','Sept','Oct', 'Nov','Dec'];
                const data = {
                labels: labels,
                datasets: [{
                    label: 'Promedios del Ultimo Mes',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1,
                    data: [0,1,4,5,5,3,1,1,3,4,5,5],
                }]
                };
            
                // Create the chart
                const ctx = document.getElementById('myChart').getContext('2d');
                const myChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    scales: {
                    y: {
                        beginAtZero: true
                    }
                    }
                }
                });
            });
            
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
